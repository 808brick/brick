<head>
	<link rel="stylesheet" href="../../CSS/semantic/src/semantic.min.css">
	<link rel="stylesheet" href="style.css">
	<link rel="javascript" href="dropdown_options.js">
	<script>
		// Fix jQuery not being defined
		// See https://github.com/Semantic-Org/Semantic-UI/issues/5201#issuecomment-359112270
		// https://electronjs.org/docs/faq#i-can-not-use-jqueryrequirejsmeteorangularjs-in-electron
		//
		// delete window.exports;
		// delete window.module;
	</script>
	<script src="../../CSS/semantic/src/jquery-3.3.1.min.js"></script>
	<script>
		// Fix jQuery not being defined
		// See https://github.com/Semantic-Org/Semantic-UI/issues/5201#issuecomment-359112270
		// https://electronjs.org/docs/faq#i-can-not-use-jqueryrequirejsmeteorangularjs-in-electron

		try {
			$ = jQuery = module.exports;
			// If you want module.exports to be empty, uncomment:
			// module.exports = {};
		} catch (e) {}
	</script>
	<script src="../../CSS/semantic/src/semantic.min.js"></script>
</head>

<body>
	<div style="width: 100vw, height: 100vh">
		<!-- Top row -->
		<div class="view-row">

			<!-- Left box -->
			<div class="view">
				<select class="ui dropdown">
					<option selected>-- Select Topic --</option>
				</select>
				<iframe class="frame" src=""></iframe>
			</div>
			<!--		 Right box -->
			<div class="view">
				<select class="ui dropdown">
					<option selected>-- Select Topic --</option>
				</select>
				<iframe class="frame" src=""></iframe>
			</div>
		</div>
		<!-- Bottom row -->
		<div class="view-row">
			<!--	 	Left box -->
			<div class="view">
				<select class="ui dropdown">
					<option selected>-- Select Topic --</option>
				</select>
				<iframe class="frame" src=""></iframe>
			</div>
			<!-- Right box -->
			<div class="view">
				<select class="ui dropdown">
					<option selected>-- Select Topic --</option>
				</select>
				<iframe class="frame" src=""></iframe>
			</div>
		</div>
	</div>
</body>



<script>
	// Initialize dropdown in JQuery DO NOT GET RID OF THIS OR I SWEAR TO GOD RAYMOND
	//	$('.ui.dropdown').dropdown();

	const displayDirectory = '../ros_dashboard/assets/Display_templates/';
	const viewOptions = [
		{label: 'Image Viewer', source: 'image_viewer'},
		{label: 'Topic Table', source: 'topic_table'},
		{label: 'Topic 1', source: 'topic'},
		{label: 'Topic 2', source: 'topic'},
		{label: 'Topic 3', source: 'topic'},
		{label: 'Topic 4', source: 'topic'},
		{label: 'Topic 5', source: 'topic'}
	];

	// Make dropdowns change content of views
	const views = document.getElementsByClassName("view");
	for (let view of views) {
		let dropdown = view.children[0];
		let viewFrame = view.children[1];

		for (let viewOption of viewOptions) {
			let option = document.createElement("option");
			option.innerText = viewOption.label;
			option.value = `${displayDirectory}${viewOption.source}.html`;

			dropdown.appendChild(option);
		}

		$(dropdown).dropdown({
			onChange: (value) => {
				viewFrame.src = value;
			}
		});

//		dropdown.addEventListener("change", () => {
//			viewFrame.src = dropdown.value;
//		});
	}

	const electron = require('electron');
	const {
		ipcRenderer
	} = electron;

	let rowCount = 3;

	// const topic_div = document.getElementById('html-topic-div');
	// const todo_list = document.querySelector('ul');
	// //Init IPC connection
	// ipcRenderer.send('ipc_init', 'IPC Started');
	// // document.getElementById("Refresh IPC").onclick = function(){
	// // 	ipcRenderer.send('ipc_init', 'IPC Refreshed');
	// // 	console.log("IPC Refreshed");
	// // };

	// ipcRenderer.on('test_ros_topic', (event, received_info) => {

	// 	const li = document.createElement('p');
	//			const text = document.createTextNode(received_info);
	//			todo_list.innerHTML = '';
	//			li.appendChild(text);
	//			todo_list.appendChild(li);
	// });

	// ipcRenderer.on('rostopic_list', (event, received_info) => {
	// 	div1.innerHTML = 'topic_table.html';
	// })

	document.getElementById("topic1").onclick = function() {
		var iframe1 = document.getElementById("iframe1");
		iframe1.src = "./assets/Display_templates/image_viewer.html"
	}

	// document.getElementById("drop1_topic1").onclick = function() {
	// 	var iframe1 = document.getElementById("iframe1");
	// 	iframe1.src = "../test_ros_subscriber/Display templates/image_viewer.html"
	// }

	// document.getElementById("drop1_topic1").onclick = function() {
	// 	var iframe1 = document.getElementById("iframe1");
	// 	iframe1.src = "../test_ros_subscriber/Display templates/image_viewer.html"
	// }

	// document.getElementById("drop1_topic1").onclick = function() {
	// 	var iframe1 = document.getElementById("iframe1");
	// 	iframe1.src = "../test_ros_subscriber/Display templates/image_viewer.html"
	// }
</script>
